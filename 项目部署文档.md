# æŠ—æˆ˜çºªå¿µé˜Ÿé¡¹ç›®éƒ¨ç½²æ–‡æ¡£

## é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº Yii2 Advanced Template å¼€å‘çš„æŠ—æˆ˜å†å²çºªå¿µç½‘ç«™ï¼ŒåŒ…å«è‹±é›„äººç‰©å±•ç¤ºã€å†å²å²æ–™ç®¡ç†ã€ç•™è¨€æ¿ã€ä½œä¸šä¸‹è½½ã€çƒˆå£«çºªå¿µç­‰åŠŸèƒ½æ¨¡å—ã€‚

**å¼€å‘å›¢é˜Ÿ**: DBIS, NKU  
**æŠ€æœ¯æ ˆ**: PHP 8.2, MySQL 5.7+, Yii2 Framework 2.0.53, Bootstrap 4, jQuery

---

## ä¸€ã€ç³»ç»Ÿè¦æ±‚

### 1.1 æœåŠ¡å™¨ç¯å¢ƒ
- **PHP**: 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **MySQL**: 5.7 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨è 8.0+ï¼‰
- **Web æœåŠ¡å™¨**: Apache 2.4+ æˆ– Nginx 1.18+
- **æ“ä½œç³»ç»Ÿ**: Windows/Linux/macOS

### 1.2 PHP æ‰©å±•è¦æ±‚
- mbstring
- openssl
- pdo_mysql
- gd æˆ– imagickï¼ˆå›¾ç‰‡å¤„ç†ï¼‰
- fileinfo
- intl

### 1.3 æ¨èå¼€å‘ç¯å¢ƒ
- **XAMPP 8.2.12**ï¼ˆé›†æˆ Apache + MySQL + PHPï¼‰
- **Composer**ï¼ˆPHP ä¾èµ–ç®¡ç†å·¥å…·ï¼‰
- **Git**ï¼ˆç‰ˆæœ¬æ§åˆ¶ï¼‰

---

## äºŒã€å®‰è£…éƒ¨ç½²æ­¥éª¤

### 2.1 å…‹éš†é¡¹ç›®ä»£ç 

```bash
cd D:\Software\XAMPP\htdocs
git clone <é¡¹ç›®ä»“åº“åœ°å€> Internet-Database-Development
cd Internet-Database-Development
```

### 2.2 å®‰è£… Composer ä¾èµ–

```bash
# å¦‚æœæ²¡æœ‰å®‰è£… Composerï¼Œè¯·å…ˆä» https://getcomposer.org/ ä¸‹è½½å®‰è£…

# å®‰è£…é¡¹ç›®ä¾èµ–
composer install
```

### 2.3 åˆå§‹åŒ–é¡¹ç›®

```bash
# Windows ç¯å¢ƒ
php init

# é€‰æ‹©å¼€å‘ç¯å¢ƒï¼šè¾“å…¥ 0 å¹¶å›è½¦
# ç¡®è®¤åˆå§‹åŒ–ï¼šè¾“å…¥ yes å¹¶å›è½¦
```

åˆå§‹åŒ–ä¼šåˆ›å»ºå¿…è¦çš„é…ç½®æ–‡ä»¶ï¼š
- `common/config/main-local.php`
- `frontend/config/main-local.php`
- `backend/config/main-local.php`

---

## ä¸‰ã€æ•°æ®åº“é…ç½®

### 3.1 åˆ›å»ºæ•°æ®åº“

å¯åŠ¨ MySQL æœåŠ¡ï¼Œåˆ›å»ºæ•°æ®åº“ï¼š

```sql
CREATE DATABASE yii2advanced CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### 3.2 é…ç½®æ•°æ®åº“è¿æ¥

ç¼–è¾‘ `common/config/main-local.php`ï¼š

```php
<?php
return [
    'components' => [
        'db' => [
            'class' => 'yii\db\Connection',
            'dsn' => 'mysql:host=localhost;dbname=yii2advanced',
            'username' => 'root',
            'password' => '',  // ä¿®æ”¹ä¸ºä½ çš„ MySQL å¯†ç 
            'charset' => 'utf8',
        ],
        'mailer' => [
            'class' => 'yii\swiftmailer\Mailer',
            'viewPath' => '@common/mail',
            'useFileTransport' => true,  // å¼€å‘ç¯å¢ƒè®¾ä¸º trueï¼Œç”Ÿäº§ç¯å¢ƒæ”¹ä¸º false
            'transport' => [
                'class' => 'Swift_SmtpTransport',
                'host' => 'smtp.qq.com',
                'username' => 'ä½ çš„QQé‚®ç®±@qq.com',
                'password' => 'ä½ çš„æˆæƒç ',
                'port' => '587',
                'encryption' => 'tls',
            ],
        ],
    ],
];
```

### 3.3 è¿è¡Œæ•°æ®åº“è¿ç§»

```bash
# æ‰§è¡Œæ‰€æœ‰è¿ç§»ï¼Œåˆ›å»ºæ•°æ®åº“è¡¨
php yii migrate
```

è¿ç§»ä¼šåˆ›å»ºä»¥ä¸‹æ•°æ®è¡¨ï¼š
- `user` - ç”¨æˆ·è¡¨
- `message` - ç•™è¨€è¡¨
- `hero` - æŠ—æˆ˜è‹±é›„è¡¨
- `historical_material` - å†å²å²æ–™è¡¨
- `download_counter` - ä¸‹è½½ç»Ÿè®¡è¡¨
- `flower_offering` - çŒ®èŠ±è®°å½•è¡¨
- `page_visit` - é¡µé¢è®¿é—®ç»Ÿè®¡è¡¨

---


## å››ã€Web æœåŠ¡å™¨é…ç½®

### 5.1 Apache é…ç½®ï¼ˆXAMPPï¼‰

#### ä½¿ç”¨å­ç›®å½•è®¿é—®ï¼ˆæ¨èå¼€å‘ç¯å¢ƒï¼‰

æ— éœ€é¢å¤–é…ç½®ï¼Œç›´æ¥è®¿é—®ï¼š
- å‰ç«¯ï¼š`http://localhost/Internet-Database-Development/frontend/web/`
- åç«¯ï¼š`http://localhost/Internet-Database-Development/backend/web/`


## é¡¹ç›®ç»“æ„è¯´æ˜

```
Internet-Database-Development/
â”œâ”€â”€ backend/                # åç«¯åº”ç”¨ï¼ˆç®¡ç†ç•Œé¢ï¼‰
â”œâ”€â”€ common/                 # å…¬å…±æ¨¡å—ï¼ˆæ¨¡å‹ã€é‚®ä»¶æ¨¡æ¿ç­‰ï¼‰
â”œâ”€â”€ console/                # å‘½ä»¤è¡Œåº”ç”¨ï¼ˆè¿ç§»ã€å®šæ—¶ä»»åŠ¡ï¼‰
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨ï¼ˆç”¨æˆ·ç•Œé¢ï¼‰
â”‚   â”œâ”€â”€ assets/            # èµ„æºåŒ…å®šä¹‰
â”‚   â”œâ”€â”€ config/            # å‰ç«¯é…ç½®
â”‚   â”œâ”€â”€ controllers/       # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ models/            # æ¨¡å‹
â”‚   â”œâ”€â”€ runtime/           # è¿è¡Œæ—¶æ–‡ä»¶ï¼ˆæ—¥å¿—ã€ç¼“å­˜ï¼‰
â”‚   â”œâ”€â”€ views/             # è§†å›¾
â”‚   â”‚   â”œâ”€â”€ layouts/      # å¸ƒå±€æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ site/         # ç«™ç‚¹é¡µé¢
â”‚   â””â”€â”€ web/              # Web æ ¹ç›®å½•
â”‚       â”œâ”€â”€ assets/       # å‘å¸ƒçš„èµ„æº
â”‚       â”œâ”€â”€ css/          # CSS æ–‡ä»¶
â”‚       â”œâ”€â”€ img/          # å›¾ç‰‡æ–‡ä»¶
â”‚       â”œâ”€â”€ js/           # JavaScript æ–‡ä»¶
â”‚       â”œâ”€â”€ uploads/      # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”‚       â””â”€â”€ index.php     # å…¥å£æ–‡ä»¶
â”œâ”€â”€ vendor/                # Composer ä¾èµ–
â”œâ”€â”€ composer.json          # Composer é…ç½®
â”œâ”€â”€ init                   # åˆå§‹åŒ–è„šæœ¬
â””â”€â”€ yii                    # å‘½ä»¤è¡Œå·¥å…·
```


## å¿«é€Ÿéƒ¨ç½²å‘½ä»¤æ±‡æ€»

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <é¡¹ç›®åœ°å€> Internet-Database-Development
cd Internet-Database-Development

# 2. å®‰è£…ä¾èµ–
composer install

# 3. åˆå§‹åŒ–é¡¹ç›®
php init

# 4. é…ç½®æ•°æ®åº“ï¼ˆç¼–è¾‘ common/config/main-local.phpï¼‰

# 5. è¿è¡Œè¿ç§»
php yii migrate

# 6. è®¾ç½®ç›®å½•æƒé™ï¼ˆLinux/Macï¼‰
chmod -R 775 frontend/runtime backend/runtime
chmod -R 775 frontend/web/assets backend/web/assets
chmod -R 775 frontend/web/uploads

# 7. å¯åŠ¨ Web æœåŠ¡å™¨
# XAMPP: å¯åŠ¨ Apache å’Œ MySQL
# æˆ–ä½¿ç”¨ PHP å†…ç½®æœåŠ¡å™¨:
# php -S localhost:8080 -t frontend/web

# 8. è®¿é—®ç½‘ç«™
# å‰ç«¯: http://localhost/Internet-Database-Development/frontend/web/
# æˆ–: http://localhost:8080/
```

---

**éƒ¨ç½²å®Œæˆï¼ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
